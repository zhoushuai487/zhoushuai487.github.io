<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"/>
	<meta content="telephone=no" name="format-detection"/>
	<meta name="title" content=""/>
	<meta name="description" content=""/>
	<meta name="keywords" content=""/>
	<title>羊年的感恩</title>
	<link rel="stylesheet" href="css/style.css"/>
	<script src="js/zepto-fixed-v1.1.4.min.js"></script>
</head>
<body>
	<!--微信链接分享缩略图，页面第一个非display:none的img，300px*300px以上-->
	<div class="wx_share"><img src="" alt=""></div>
	<!--音乐-->
	<a href="javascript:;" class="music">
		<span></span>
		<audio id="audioFile"></audio>
	</a>
	<div id="mask">
		<div class="mask-word"><img src="img/mask.png"></div>
		<b></b>
	</div>

	<div class="section sec1 current">
		<div class="sec s1">
			<div class="sa s1_a"><span></span></div>
			<div class="sa s1_b"><span></span></div>
		</div>
		<a href="javascript:;" class="arrow-down"></a>
	</div>

	<div class="section sec2">
		<div class="sec s2">
			<div class="sa s2_a"><span></span></div>
			<div class="sa s2_b">
				<span></span>
			</div>
		</div>
		<a href="javascript:;" class="arrow-down"></a>
	</div>

	<div class="section sec3">
		<div class="sec s3">
			<div class="sa s3_a"><span><b></b></span></div>
			<div class="sa s3_b">
				<span><b></b></span>
			</div>
		</div>
		<a href="javascript:;" class="arrow-down"></a>
	</div>

	<div class="section sec4">
		<div class="sec s4">
			<div class="sa s4_a"><span></span></div>
			<div class="sa s4_b">
				<span></span>
			</div>
		</div>
		<a href="javascript:;" class="arrow-down"></a>
	</div>

	<div class="section sec5">
		<div class="sec s5">
			<div class="sa s5_a"><span></span></div>
			<div class="sa s5_b">
				<span><b></b></span>
			</div>
		</div>
		<a href="javascript:;" class="arrow-down"></a>
	</div>

	<div id="snowbox" class="section sec6">
		<div class="sec s6">
			<div class="sa s6_a"><span></span></div>
			<div class="sa s6_b">
				<span></span>
			</div>
		</div>
		<a href="javascript:;" class="arrow-down"></a>
	</div>

	<div class="section sec7">
		<div class="sec s7">
			<div class="sa s7_a"><span></span></div>
			<div class="sa s7_b">
				<span></span>
			</div>
		</div>
		<a href="javascript:;" class="arrow-down"></a>
	</div>

	<div class="section sec8">
		<div class="sec s8">
			<div class="sa s8_a"><span></span></div>
			<div class="sa s8_b">
				<span></span>
			</div>
		</div>
		<a href="javascript:;" class="arrow-down"></a>
	</div>

	<div class="section sec9">
		<div class="sec s9">
			<div class="sa s9_a"><span><b></b></span></div>
		</div>
		<a href="javascript:;" class="arrow-down"></a>
	</div>

	<div class="section sec10">
		<div class="sec s10">
			<div class="sa s10_a"><span><b></b></span></div>
			<div class="sa s10_b">
				<span><b></b></span>
			</div>
		</div>
		<a href="javascript:;" class="arrow-down"></a>
	</div>

	<div class="section sec11">
		<div class="sec s11">
			<div class="sa s11_a"><span><b></b></span></div>
			<div class="sa s11_b">
				<span><b></b></span>
			</div>
		</div>
		<a href="javascript:;" class="arrow-down"></a>
	</div>

	<div class="section sec12">
		<div class="sec s12">
			<div class="sa s12_a"><span><b></b></span></div>
			<div class="sa s12_b">
				<span><b></b></span>
			</div>
		</div>
		<a href="javascript:;" class="arrow-down"></a>
	</div>

	<div class="section sec13">
		<div class="sec s13">
			<div class="sa s13_a"><span></span></div>
			<div class="sa s13_b">
				<span></span>
			</div>
		</div>
	</div>
	<script>

	 var restartCSSAnimation = function($element){ 
            $element.removeClass('');
            setTimeout(function(){$element.addClass(className);}, 1);
        }

        $('.section').on('swipeUp',function () {
            if ($(this).hasClass('sec13')) return;
            $(this).animate({'top': '-100%'}, 500, ' ease-out',function () {
                $(this).removeClass('current ani');
            }).next('.section').addClass('current').css({'top': '100%'}).animate({'top': '0'}, 500, ' ease-out',function(){ $(this).addClass('ani');});
        }).on('swipeDown', function () {
                    if ($(this).hasClass('sec1')) return;
                    $(this).animate({'top': '100%'}, 500, ' ease-out',function () {
                        $(this).removeClass('current ani');
                    }).prev('.section').addClass('current').css({'top': '-100%'}).animate({'top': '0'}, 500, ' ease-out',function(){ $(this).addClass('ani');});
                });



        $('.arrow-down').on('tap', function () {
            $(this).parents('.section').triggerHandler('swipeUp');
        });

        setTimeout(function(){$('.sec1').addClass('ani');},100);

		var oAudio = $('#audioFile')[0];

		$('.music').on('click',function(){
			if(oAudio.paused){
				oAudio.play();
				$(this).removeClass('pause');
			}else{
				oAudio.pause();
				$(this).addClass('pause');
			}
		});

		window.onload = function(){
			$(oAudio).attr('src','http://zhoushuai487.github.io/img/music.mp3');
			$('.music').trigger('click');

			//window.onload = function(){
			//$(oAudio).attr('src','http://mfiles.sohu.com/tv/touch/campus/sohutv/img/music.mp3');
			//$('.music').trigger('click');

		setTimeout(function(){
			$('#mask').hide();
		},2000);
	}

	//微信
	var  imgUrl = 'http://zhoushuai487.github.io/img/share.gif',  //绝对定位图片  
    lineLink = 'http://zhoushuai487.github.io/index.html',   //绝对定位链接
    descContent = "你们的健康快乐，是我们最大的心愿",     //内容
    shareTitle='羊年的感恩',   //分享的title
    appid = '';       
    function shareFriend() {
        WeixinJSBridge.invoke('sendAppMessage', {
            "appid": appid,
            "img_url": imgUrl,
            "img_width": "300",
            "img_height": "300",
            "link": lineLink,
            "desc": descContent,
            "title": shareTitle
        });
    }

    function shareTimeline() {
        WeixinJSBridge.invoke('shareTimeline', {
            "img_url": imgUrl,
            "img_width": "300",
            "img_height": "300",
            "link": lineLink,
            "desc": descContent,
            "title": shareTitle
        });
    }

    function chkJSB(){
        if(typeof(WeixinJSBridge)!='undefined'){

            WeixinJSBridge.on('menu:share:appmessage',
            function(argv) {
                shareFriend();
            });

            WeixinJSBridge.on('menu:share:timeline',
            function(argv) {
                shareTimeline();
            });
        }else{
            setTimeout(chkJSB,300);
        }
    };
    chkJSB();
	</script>
</body>
</html>